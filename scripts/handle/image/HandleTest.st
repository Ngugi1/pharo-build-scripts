"Load Hudson Build Tools"
Gofer new
	renggli: 'hudson';
	package: 'HudsonBuildTools';
	load.
	
"Run Pier 2 Tests"
HDTestReport runPackages: #('BalloonFontTest' 'Base64MimeConverterTest' 'BecomeTest' 'BitBltClipBugs' 'BitmapBugz' 'ByteArrayBugz' 'ClassBuilderChangeClassTypeTest' 'ClassBuilderFormatTests' 'ClassTestCase' 'ExceptionTests' 'HashAndEqualsTestCase' 'HashTesterTest' 'InstVarRefLocatorTest' 'InstructionClientTest' 'IntegerDigitLogicTest' 'IslandVMTweaksTestCase' 'MCPTest' 'MacFileDirectoryTest' 'MailAddressParserTest' 'ProcessTerminateBug' 'StreamBugz' 'TestObjectsAsMethods' 'TextLineEndingsTest' 'UUIDPrimitivesTest' 'IntegerTest' 'ArrayLiteralTest' 'PNGReadWriterTest' 'DateAndTimeEpochTest' 'DateAndTimeLeapTest' 'TimespanDoSpanAYearTest' 'TimespanDoTest' 'SimpleTestResourceTestCase' 'SUnitTest' 'DosFileDirectoryTests' 'ZipCrcTests' 'SMTPClientTest' 'BehaviorTest' 'RunArrayTest' 'MethodContextTest' 'StandardSystemFontsTest' 'LongTestCase' 'YearMonthWeekTest' 'ReadStreamTest' 'NumberParsingTest' 'FontTest' 'MorphTest' 'MCDependencySorterTest' 'MCSortingTest' 'MCTestCase' 'TextAndTextStreamTest' 'BasicBehaviorClassMetaclassTest' 'SelfEvaluatingObjectTest' 'TestURI' 'SystemVersionTest' 'ClassRenameFixTest' 'DelayTest' 'SharedQueue2Test' 'TimeMeasuringTest' 'TraitsTestCase' 'ReleaseTest' 'MethodPragmaTest' 'MethodPropertiesTest' 'BMPReadWriterTest' 'LocaleTest' 'MonitorTest' 'SUnitExtensionsTest' 'SystemChangeTestRoot' 'ClassTest' 'AuthorTest' 'RectangleTest' 'BitmapStreamTests' 'PackageInfoTest' 'CharacterSetTest' 'WideCharacterSetTest' 'CircleMorphBugs' 'HandBugs' 'MorphBugs' 'MorphicUIBugTest' 'IVsAndClassVarNamesConflictTest' 'TestValueWithinFix' 'RxParserTest' 'IfNotNilTests' 'MultiByteFileStreamTest' 'ScannerTest' 'WeakSetInspectorTest' 'ClassFactoryForTestCaseTest' 'ProcessSpecificTest' 'HostWindowTests' 'FreeTypeCacheTest' 'StackTest' 'MatrixTest' 'ByteArrayTest' 'MOPTraitTest' 'AnnouncerTest' 'ContextCompilationTest' 'BlockClosuresTestCase' 'SplitJoinTest' 'DependentsArrayTest' 'SmalltalkImageTest' 'PointerFinderTest' 'SystemNavigationTest' 'ByteTextConverterTest' 'ScriptLoaderTest' 'OSPlatformTest' 'ProcessTest' 'ClosureCompilerTest' 'ClosureTests' 'MirrorPrimitiveTests' 'ImageSegmentTest' 'ObjectFinalizerTests' 'AllocationTest' 'LinkedListTest' 'GoferTest' 'MethodDictionaryTest' 'TextDiffBuilderTest' 'RxMatcherTest' 'WindowAnnouncementTest' 'BlockClosureTest' 'CompilerTest' 'MessageTallyTest' 'LogoImageMorphTest' 'TestCaseTest' 'HTTPSocketTest' 'IntegerArrayTest' 'ScannerTests' 'CompiledMethodTrailerTest' 'NewTextMorphTests' 'LayoutFrameTest' 'ClassAPIHelpBuilderTest' 'HelpBrowserTest' 'HelpIconsTest' 'HelpTopicListItemWrapperTest' 'HelpTopicTest' 'WeakSetTest' 'ReduceTest' 'ExpandedSourceFileArrayTest' 'TextEditorTest' 'PerformTest' 'UTF8TextConverterTest' 'ClassBuilderValidationTests' 'ObsoleteTest' 'CompilerEvaluationTest' 'CodeSimulationTests' 'UTF16TextConverterTest' 'SystemOrganizerTest' 'HttpUrlTest' 'UpdateStreamerTest' 'PackageDependencyTest' 'ZipArchiveTest' 'SmalltalkEditorTest' 'DateAndTimeDosEpochTest' 'DateAndTimeUnixEpochTest' 'SizeInMemoryTest' 'ExampleSetTest' 'ResumableTestFailureTestCase' 'WeakFinalizersTest' 'LongTestCaseTest' 'DynamicMessageImplementorTest' 'DataStreamTest' 'ReferenceStreamTest' 'NetNameResolverTest' 'AnnouncementSetTest' 'HistoryIteratorTest' 'HistoryNodeTest' 'ClassFactoryWithOrganizationTest' 'DebuggerTest' 'CustomParserTest' 'CustomHelpTest' 'WikiStyleHelpBuilderTest' 'WikiStyleHelpTest' 'MailMessageTest' 'KeyedTreeTest' 'AdditionalMethodStateTest' 'PragmaTest' 'CompilerExceptionsTest' 'SocketTest' 'MessageCatchingProxyTests' 'PointArrayTest' 'ShortIntegerArrayTest' 'ShortPointArrayTest' 'ShortRunArrayTest' 'TestNewParagraphFix' 'ClassHierarchyTest' 'FIFOQueueTests' 'LIFOQueueTests' 'MethodFinderTest' 'ZnBivalentWriteStreamTests' 'ZnBufferedWriteStreamTests' 'ZnCharacterEncoderTests' 'ZnChunkedReadStreamTests' 'ZnClientTests' 'ZnCredentialTests' 'ZnEntityReaderTests' 'ZnEntityTests' 'ZnFixedClientTests' 'ZnHTTPSocketFacadeTests' 'ZnHeadersTests' 'ZnHttpClientTests' 'ZnLimitedReadStreamTests' 'ZnLineReaderTests' 'ZnLogSupportTests' 'ZnMagicCookieJarTests' 'ZnMagicCookieTests' 'ZnMimeTypeTests' 'ZnMultiValueDictionaryTests' 'ZnRequestLineTests' 'ZnRequestTests' 'ZnResponseTests' 'ZnServerTests' 'ZnStatusLineTests' 'ZnUrlTests' 'ZnUserAgentSessionTests' 'ZnUserAgentSettingsTests' 'ZnUserAgentTests' 'ZnUtilsTests' 'ZnDispatcherDelegateTest' 'ChangeSetClassChangesTest' 'CommandLineTest' 'TranscriptMorphTest' 'BitBltTest' 'BooleanTest' 'CharacterTest' 'ClassDescriptionTest' 'FalseTest' 'FileDirectoryTest' 'FloatTest' 'FractionTest' 'InstructionPrinterTest' 'LargeNegativeIntegerTest' 'LargePositiveIntegerTest' 'MethodReferenceTest' 'NumberTest' 'ObjectTest' 'PointTest' 'ProtoObjectTest' 'RandomTest' 'ReadWriteStreamTest' 'SmallIntegerTest' 'TextMorphTest' 'TrueTest' 'UndefinedObjectTest' 'WeakMessageSendTest' 'WriteStreamTest' 'DateAndTimeTest' 'DateTest' 'DurationTest' 'MonthTest' 'StopwatchTest' 'YearTest' 'TimeStampTest' 'TimeTest' 'TimespanTest' 'ColorTest' 'ScaledDecimalTest' 'ScheduleTest' 'WeekTest' 'WideStringTest' 'SemaphoreTest' 'FileUrlTest' 'GenericUrlTest' 'HierarchicalUrlTest' 'FileStreamTest' 'AssociationTest' 'SqNumberParserTest' 'FormTest' 'CollectionRootTest' 'EventManagerTest' 'SecureHashAlgorithmTest' 'CompiledMethodTest' 'ExtendedNumberParserTest' 'SocketStreamTest' 'UrlTest' 'WeakRegistryTest' 'TextAlignmentTest' 'TextAnchorTest' 'TextEmphasisTest' 'TextFontChangeTest' 'TextFontReferenceTest' 'TextKernTest' 'TextLineTest' 'TextStyleTest' 'FailingTestResourceTestCase' 'ManyTestResourceTestCase' 'LongTestCaseTestUnderTest' 'CircleMorphTest' 'PolygonMorphTest' 'MCAncestryTest' 'MCChangeNotificationTest' 'MCClassDefinitionTest' 'MCFileInTest' 'MCMczInstallerTest' 'MCMergingTest' 'MCMethodDefinitionTest' 'MCOrganizationTest' 'MCPackageTest' 'MCPatchTest' 'MCRepositoryTest' 'MCScannerTest' 'MCSerializationTest' 'MCSnapshotBrowserTest' 'MCSnapshotTest' 'MCStReaderTest' 'MCStWriterTest' 'MCVersionTest' 'MCWorkingCopyTest' 'ClassTraitTest' 'PureBehaviorTest' 'TraitCompositionTest' 'TraitFileOutTest' 'TraitMethodDescriptionTest' 'TraitTest' 'SystemTest' 'ChangeHooksTest' 'SystemChangeErrorHandling' 'SystemChangeErrorHandlingTest' 'SystemChangeNotifierTest' 'StickynessBugz' 'RenderBugz' 'WeakAnnouncerTest' 'SystemNavigationOnNewlyCreatedEnvironmentTest' 'MethodHighlightingTests' 'ImageSegmentTestExport' 'ImageSegmentTestSwap' 'GoferReferenceTest' 'GoferApiTest' 'GoferOperationTest' 'DictionaryTest' 'FloatArrayTest' 'ArrayTest' 'BagTest' 'HeapTest' 'IntervalTest' 'OrderedCollectionTest' 'SetTest' 'SortedCollectionTest' 'StringTest' 'SymbolTest' 'MCDictionaryRepositoryTest' 'MCDirectoryRepositoryTest' 'SmallDictionaryTest' 'IdentityDictionaryTest' 'LiteralDictionaryTest' 'PluggableDictionaryTest' 'WeakValueDictionaryTest' 'SystemDictionaryTest' 'WeakKeyDictionaryTest' 'IdentityBagTest' 'PluggableSetTest' 'IdentitySetTest' 'ByteSymbolTest' 'SmallIdentityDictionaryTest' 'WeakIdentityKeyDictionaryTest' 'WeakKeyToCollectionDictionaryTest').

(Smalltalk saveAs: 'AfterTests.image') 
	ifFalse: [ Smalltalk snapshot: false andQuit: true ].
